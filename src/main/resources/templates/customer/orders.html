<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ƒê∆°n h√†ng c·ªßa t√¥i</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link th:href="@{/css/home.css}" rel="stylesheet">
</head>
<body>
<!--Header-->
<div th:replace="common/header :: header"></div>

<!--Body-->
<div class="container mt-5">
    <h3 class="text-center mb-4">üõí ƒê∆°n h√†ng ƒë√£ mua</h3>

    <!-- B·ªô l·ªçc -->
    <form hx-get="/orders/filter"
          hx-target="#orderTableContainer"
          hx-trigger="submit"
          hx-swap="innerHTML"
          class="row g-2 mb-3">
        <!--SEARCH: m√£, ng∆∞·ªùi b√°n, tool, h·∫°n s·ª≠ d·ª•ng-->
        <div class="col-md-3">
            <input type="text" name="keyword" th:value="${keyword}" class="form-control"
                   placeholder="T√¨m theo m√£, tool, ng∆∞·ªùi b√°n, license...">
        </div>
        <!-- FILTER tr·∫°ng th√°i -->
        <div class="col-md-2">
            <select name="status" class="form-select">
                <option value="">-- T·∫•t c·∫£ tr·∫°ng th√°i --</option>
                <option value="SUCCESS" th:selected="${status == 'SUCCESS'}">Th√†nh c√¥ng</option>
                <option value="PENDING" th:selected="${status == 'PENDING'}">ƒêang x·ª≠ l√Ω</option>
                <option value="FAILED" th:selected="${status == 'FAILED'}">Th·∫•t b·∫°i</option>
            </select>
        </div>
        <!-- FILTER th·ªùi gian -->
        <div class="col-md-2">
            <select name="dateRange" class="form-select">
                <option value="">-- M·ªçi th·ªùi gian --</option>
                <option value="7" th:selected="${dateRange == '7'}">7 ng√†y g·∫ßn ƒë√¢y</option>
                <option value="30" th:selected="${dateRange == '30'}">1 th√°ng g·∫ßn ƒë√¢y</option>
                <option value="90" th:selected="${dateRange == '90'}">3 th√°ng g·∫ßn ƒë√¢y</option>
            </select>
        </div>
        <!-- FILTER gi√° -->
        <div class="col-md-2">
            <select name="priceRange" class="form-select">
                <option value="">-- M·ªçi gi√° --</option>
                <option value="0-100000">D∆∞·ªõi 100.000</option>
                <option value="100000-500000">100.000 - 500.000</option>
                <option value="500000-1000000">500.000 - 1.000.000</option>
                <option value="1000000+">Tr√™n 1.000.000</option>
            </select>
        </div>
        <!-- S·∫Øp x·∫øp -->
        <div class="col-md-2">
            <select name="sortField" class="form-select">
                <option value="createdAt" th:selected="${sortField == 'createdAt'}">Ng√†y mua</option>
                <option value="price" th:selected="${sortField == 'price'}">ƒê∆°n gi√°</option>
                <option value="orderId" th:selected="${sortField == 'orderId'}">M√£ ƒë∆°n h√†ng</option>
            </select>
        </div>

        <div class="col-md-1">
            <select name="sortDir" class="form-select">
                <option value="desc" th:selected="${sortDir == 'desc'}">‚Üì</option>
                <option value="asc" th:selected="${sortDir == 'asc'}">‚Üë</option>
            </select>
        </div>
        <div class="col-md-12 text-end mt-2">
            <button type="submit" class="btn btn-primary px-4">
                <i class="bi bi-search"></i> T√¨m ki·∫øm
            </button>
        </div>
    </form>

    <!-- Container ch·ª©a b·∫£ng order -->
    <div id="orderTableContainer" th:replace="customer/order-table :: orderTable"></div>
</div>

<!--Footer-->
<div th:replace="common/footer :: footer"></div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
